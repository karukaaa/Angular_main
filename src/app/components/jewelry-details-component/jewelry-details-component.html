<div class="container">
  <!-- Loading -->
  @if (loading()) {
    <div class="state">Loading...</div>
  }

  <!-- Error -->
  @if (error()) {
    <div class="state error">{{ error() }}</div>
  }

  <!-- Not found -->
  @if (!loading() && !error() && !jewelry()) {
    <div class="state">Not found.</div>
  }

  <!-- Item details -->
  @if (jewelry(); as item) {
    <div class="card">
      <button class="back-btn" (click)="back()">← Back to list</button>
      <div class="top-section">
        <img class="image" [src]="item.img" [alt]="item.name" />
        <div class="main-info">
          <h1>{{ item.name }}</h1>
          <p class="description">{{ item.description }}</p>
          <div class="price-row">
            <span class="price">{{ item.price | currency : item.currency }}</span>
            <span
              class="availability"
              [class.available]="item.availability"
              [class.unavailable]="!item.availability"
              >
              {{ item.availability ? 'In stock' : 'Out of stock' }}
            </span>
          </div>
        </div>
      </div>
      <div class="details-list">
        <p><strong>Type:</strong> {{ item.type }}</p>
        <p><strong>Material:</strong> {{ item.material }}</p>
        <p><strong>Weight:</strong> {{ item.weight }}</p>
        <p><strong>Size:</strong> {{ item.size }}</p>
        <p><strong>Style:</strong> {{ item.style }}</p>
        <p>
          <strong>Stones:</strong>
          {{ item.stones?.length ? item.stones.join(', ') : '—' }}
        </p>
      </div>
      <div class="collection">
        <h2>Collection: {{ item.collection.name }}</h2>
        <p>{{ item.collection.description }}</p>
        <small>Created: {{ item.collection.creationDate }}</small>
      </div>
    </div>
  }
</div>
